<%= form_for @cred do |f| %>
<div class="container-fluid">
  <div class="row">
    <div class="col-md-8 col-md-offset-2">
      <h3 class="show_title text-left text-uppercase">Credentials List "<em><%= @cred.name %></em>" Details</h3>
      <%= link_to 'Back', brute_lists_path, class: 'btn btn-default' %>
      <div class="pull-right">
        <p class="time_dock">*All Times are US Central</p>
      </div>
      <div class="panel panel-default">
        <div class="well">
          <div class="table-responsive">
            <table class="table table-striped table-condensed">
              <thead>
                <tr>
                  <th>Credentials List ID</th>
                  <th>Credentials List Name</th>
                  <th>Date Created</th>
                  <th></th>
                </tr>
              </thead>
            <tbody>
              <tr>
                <td><%= @cred.id %></td>
                <td><%= f.text_field :name %></td>
                <td><%= I18n.l @cred.created_at, format: :pretty %></td>
                <td><%= link_to 'Delete', @cred, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-small btn-danger', id: "delete_disable_#{@cred.id}" %></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="panel panel-default">
      <div class="panel-heading">Username and Password List</div>
      <div class="panel-body clearfix">
        <button id="add_credrow" class="btn btn-primary">Add New Row</button>
        <table id="cred_details" class="table table-condensed table-striped" width="100%" cellspacing="0" data-scroll-x="true" scroll-collapse="false">
          <thead id="main_header">
            <tr>
              <th>Execute Order</th>
              <th>Username</th>
              <th>Password</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="cred_detail_tbody">
            <%= f.fields_for :brute_list_secrets, f.object.brute_list_secrets.order(:order) do |secret| %>
            <tr class="credential_row">
              <td><span class="row_order"><%= secret.object.order %></span><%= secret.text_field :order, class: "number_order", type: "hidden", value: secret.object.order %></td>
              <td><%= secret.text_field :username, class: "form-control input-sm" %></td>
              <td><%= secret.text_field :password, class: "form-control input-sm" %></td>
              <td><button id="del_credrow" class="btn btn-danger"><i class="fa fa-trash-o" aria-hidden="true"></i></button></td>
            </tr>
            <% end %>
          </tbody>
        </table>
        <%= f.submit 'Update', class: 'btn btn-success pull-right', id: "edit_cred_submit" %>
        <% if @cred.errors.any? %>
        <div id="error_explanation">
          <ul>
          <% @cred.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
        </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
<% end %>
